#!/bin/bash
srcHash=0
inpHash=1
tempInp=1
tempSrc=1

while [ -n "$1" ]
do
	tempSrc=`shasum $1`
	if [ -n "$2" ]
	then
		tempInp=`shasum $2`
	fi
	if [ "$srcHash" != "$tempSrc" ] || [ "$inpHash" != "$tempInp" ]
	then
		g++ $1
		echo "Compiled"
		if [ -n "$2" ]
		then
			inpHash="$tempInp"
			if [ -e "a.out" ]
			then
				./a.out < $2
			fi
		else
			if [ -e "a.out" ]
			then
				./a.out
			fi
		fi
		srcHash="$tempSrc"
		echo 
	fi
	sleep 2
done
if [ -z "$1" ]
then
	echo "Please specify source file.Error Exiting..."
fi
